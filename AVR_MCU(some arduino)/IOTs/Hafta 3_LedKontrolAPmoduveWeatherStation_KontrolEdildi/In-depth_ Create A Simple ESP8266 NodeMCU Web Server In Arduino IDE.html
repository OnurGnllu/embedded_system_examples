<!DOCTYPE html>
<!-- saved from url=(0072)https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/ -->
<html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="profile" href="https://gmpg.org/xfn/11"> <!-- Optimized by SG Optimizer plugin version - 5.7.12 --><script async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/async-ads.js.indir"></script><script type="text/javascript" async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/analytics.js.indir"></script><script type="text/javascript" async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/f.txt"></script><script type="application/ld+json">{"@context":"http:\/\/schema.org","publisher":{"@type":"Organization","name":"Last Minute Engineers","logo":{"@type":"ImageObject","url":"https:\/\/lastminuteengineers.com\/wp-content\/themes\/twentynineteen-child\/logo\/LastMinuteEngineers.png","height":90,"width":168}},"@type":"BlogPosting","mainEntityOfPage":"https:\/\/lastminuteengineers.com\/creating-esp8266-web-server-arduino-ide\/","headline":"Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE","datePublished":"2018-08-14T06:18:01+00:00","dateModified":"2020-12-18T14:33:23+00:00","author":{"@type":"Person","name":"Last Minute Engineers"},"image":{"@type":"ImageObject","url":"https:\/\/lastminuteengineers.com\/wp-content\/uploads\/2019\/12\/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode.jpg","width":763,"height":436}}</script> <!-- This site is optimized with the Yoast SEO plugin v15.4 - https://yoast.com/wordpress/plugins/seo/ --><title>In-depth: Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE</title><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><style type="text/css">@font-face {
 font-family: 'Roboto';
 font-style: normal;
 font-weight: 400;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxP.ttf) format('truetype');
}
@font-face {
 font-family: 'Roboto';
 font-style: normal;
 font-weight: 500;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmEU9fBBc9.ttf) format('truetype');
}
@font-face {
 font-family: 'Roboto Mono';
 font-style: normal;
 font-weight: 400;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/robotomono/v12/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW9.ttf) format('truetype');
} </style><meta name="description" content="Learn to create simple ESP8266 NodeMCU web server in Arduino IDE as a Access Point (AP mode) &amp; Staion (STA mode) with Detailed Code Explanation."><meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><link rel="canonical" href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/"><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="og:title" content="In-depth: Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE"><meta property="og:description" content="Learn to create simple ESP8266 NodeMCU web server in Arduino IDE as a Access Point (AP mode) &amp; Staion (STA mode) with Detailed Code Explanation."><meta property="og:url" content="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/"><meta property="og:site_name" content="Last Minute Engineers"><meta property="article:published_time" content="2018-08-14T06:18:01+00:00"><meta property="article:modified_time" content="2020-12-18T14:33:23+00:00"><meta property="og:image" content="https://lastminuteengineers.com/wp-content/uploads/2019/12/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode.jpg"><meta property="og:image:width" content="763"><meta property="og:image:height" content="436"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:label1" content="Written by"><meta name="twitter:data1" content="Last Minute Engineers"><meta name="twitter:label2" content="Estimated reading time"><meta name="twitter:data2" content="16 minutes"> <!-- / Yoast SEO plugin. --><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link rel="stylesheet" id="twentynineteen-style-css" href="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/style.css" type="text/css" media="all"> <script type="text/javascript" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/js" id="google_gtagjs-js" async=""></script> <script type="text/javascript" id="google_gtagjs-js-after"> window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["lastminuteengineers.com"]} );
gtag('js', new Date());
gtag('set', 'developer_id.dZTNiMT', true);
gtag('config', 'UA-121719862-1', {"anonymize_ip":true} ); </script><link rel="https://api.w.org/" href="https://lastminuteengineers.com/wp-json/"><link rel="alternate" type="application/json" href="https://lastminuteengineers.com/wp-json/wp/v2/posts/691"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://lastminuteengineers.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://lastminuteengineers.com/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 5.6"><link rel="shortlink" href="https://lastminuteengineers.com/?p=691"><link rel="alternate" type="application/json+oembed" href="https://lastminuteengineers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flastminuteengineers.com%2Fcreating-esp8266-web-server-arduino-ide%2F"><link rel="alternate" type="text/xml+oembed" href="https://lastminuteengineers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flastminuteengineers.com%2Fcreating-esp8266-web-server-arduino-ide%2F&amp;format=xml"><meta name="generator" content="Site Kit by Google 1.23.0"><link rel="preconnect" href="https://www.googleapis.com/" crossorigin=""><link rel="preconnect" href="https://www.google.com/" crossorigin=""><link rel="preconnect" href="https://cse.google.com/" crossorigin=""><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link rel="icon" type="image/png" href="https://lastminuteengineers.com/wp-content/uploads/logo/Favicon.png"> <script type="text/javascript">window.onload = function(){jQuery.noConflict();}</script><script async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/js"></script> <script> window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());  gtag('config', 'UA-121719862-1'); </script> <script async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/f(1).txt"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({
 google_ad_client: "ca-pub-2705735538096223",
 enable_page_level_ads: true
 }); </script><link rel="amphtml" href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/amp/"><script async="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/f(1).txt"></script><script>(adsbygoogle = window.adsbygoogle || []).push({"google_ad_client":"ca-pub-2705735538096223","enable_page_level_ads":true,"tag_partner":"site_kit"});</script><script src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/cse_element__en.js.indir" type="text/javascript"></script><link type="text/css" rel="stylesheet" href="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/default+en.css"><link type="text/css" rel="stylesheet" href="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/default.css"><style type="text/css">.gsc-control-cse{font-family:arial, sans-serif}.gsc-control-cse .gsc-table-result{font-family:arial, sans-serif}.gsc-refinementsGradient{background:linear-gradient(to left,rgba(255,255,255,1),rgba(255,255,255,0))}.gsc-control-cse{border-color:#FFFFFF;background-color:#F7F7F7}input.gsc-input,.gsc-input-box,.gsc-input-box-hover,.gsc-input-box-focus{border-color:#F7F7F7}.gsc-search-button-v2,.gsc-search-button-v2:hover,.gsc-search-button-v2:focus{border-color:#F7F7F7;background-color:#F7F7F7;background-image:none;filter:none}.gsc-search-button-v2 svg{fill:#777777}.gsc-tabHeader.gsc-tabhActive,.gsc-refinementHeader.gsc-refinementhActive{color:#1A73E8;border-color:#1A73E8;background-color:#FFFFFF}.gsc-tabHeader.gsc-tabhInactive,.gsc-refinementHeader.gsc-refinementhInactive{color:#666666;border-color:#666666;background-color:#FFFFFF}.gsc-webResult.gsc-result,.gsc-results .gsc-imageResult{border-color:#FFFFFF;background-color:#FFFFFF}.gsc-webResult.gsc-result:hover{border-color:#FFFFFF;background-color:#FFFFFF}.gs-webResult.gs-result a.gs-title:link,.gs-webResult.gs-result a.gs-title:link b,.gs-imageResult a.gs-title:link,.gs-imageResult a.gs-title:link b{color:#1155CC}.gs-webResult.gs-result a.gs-title:visited,.gs-webResult.gs-result a.gs-title:visited b,.gs-imageResult a.gs-title:visited,.gs-imageResult a.gs-title:visited b{color:#1155CC}.gs-webResult.gs-result a.gs-title:hover,.gs-webResult.gs-result a.gs-title:hover b,.gs-imageResult a.gs-title:hover,.gs-imageResult a.gs-title:hover b{color:#1155CC}.gs-webResult.gs-result a.gs-title:active,.gs-webResult.gs-result a.gs-title:active b,.gs-imageResult a.gs-title:active,.gs-imageResult a.gs-title:active b{color:#1155CC}.gsc-cursor-page{color:#1155CC}a.gsc-trailing-more-results:link{color:#1155CC}.gs-webResult:not(.gs-no-results-result):not(.gs-error-result) .gs-snippet,.gs-fileFormatType{color:#333333}.gs-webResult div.gs-visibleUrl{color:#009933}.gs-webResult div.gs-visibleUrl-short{color:#009933}.gsc-cursor-box{border-color:#FFFFFF}.gsc-results .gsc-cursor-box .gsc-cursor-page{border-color:#666666;background-color:#FFFFFF;color:#666666}.gsc-results .gsc-cursor-box .gsc-cursor-current-page{border-color:#1A73E8;background-color:#FFFFFF;color:#1A73E8}.gsc-webResult.gsc-result.gsc-promotion{border-color:#F6F6F6;background-color:#F6F6F6}.gsc-completion-title{color:#1155CC}.gsc-completion-snippet{color:#333333}.gs-promotion a.gs-title:link,.gs-promotion a.gs-title:link *,.gs-promotion .gs-snippet a:link{color:#1155CC}.gs-promotion a.gs-title:visited,.gs-promotion a.gs-title:visited *,.gs-promotion .gs-snippet a:visited{color:#1155CC}.gs-promotion a.gs-title:hover,.gs-promotion a.gs-title:hover *,.gs-promotion .gs-snippet a:hover{color:#1155CC}.gs-promotion a.gs-title:active,.gs-promotion a.gs-title:active *,.gs-promotion .gs-snippet a:active{color:#1155CC}.gs-promotion .gs-snippet,.gs-promotion .gs-title .gs-promotion-title-right,.gs-promotion .gs-title .gs-promotion-title-right *{color:#333333}.gs-promotion .gs-visibleUrl,.gs-promotion .gs-visibleUrl-short{color:#009933}.gcsc-find-more-on-google{color:#1155CC}.gcsc-find-more-on-google-magnifier{fill:#1155CC}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{vertical-align:middle;opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gssb_a{padding:0 9px}.gsib_a{padding:5px 9px 4px 9px}.gscb_a{line-height:27px}.gssb_e{border:0}.gssb_l{margin:5px 0}input.gsc-input::-webkit-input-placeholder{font-size:14px}input.gsc-input:-moz-placeholder{font-size:14px}input.gsc-input::-moz-placeholder{font-size:14px}input.gsc-input:-ms-input-placeholder{font-size:14px}input.gsc-input:focus::-webkit-input-placeholder{color:transparent}input.gsc-input:focus:-moz-placeholder{color:transparent}input.gsc-input:focus::-moz-placeholder{color:transparent}input.gsc-input:focus:-ms-input-placeholder{color:transparent}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head><body class="post-template-default single single-post postid-691 single-format-standard wp-embed-responsive singular image-filters-enabled"><div id="page" class="site"><header id="masthead" class="site-header"><div class="container"><div class="header-wrapper"><div class="sitelogo"> <a href="https://lastminuteengineers.com/" rel="home"> <svg xmlns="http://www.w3.org/2000/svg" width="166.5" height="54" viewBox="9.25 3 166.5 54"><path fill="#fbc531" d="M22.57 32.57L36.2 8.6l-25.9 25.46-.05.05a3.45 3.45 0 0 0-1 2.44A3.46 3.46 0 0 0 12.7 40h17l2.24-7.43h-9.38z"></path><path fill="#4285F4" d="M41.84 27.43L28.19 51.41 54.1 25.95l.05-.04a3.45 3.45 0 0 0 1-2.44A3.46 3.46 0 0 0 51.7 20h-17l-2.24 7.42h9.38z"></path><path fill="#454545" d="M64.85 48.56l3.37-15.6h9.17l-.65 2.89h-6.01L70.08 39h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.62zm21.51 0a86.81 86.81 0 0 0-1.9-5.31 55.1 55.1 0 0 0-2.25-5.02l-2.23 10.33h-3.1l3.36-15.6h2.41c.31.53.65 1.15 1 1.86a74.18 74.18 0 0 1 1.1 2.31 102.72 102.72 0 0 1 2.22 5.22l2-9.38h3.14l-3.38 15.6h-2.37zm12.72-2.7a7.55 7.55 0 0 0 1.32-.11l1.17-5.42h3.16l-1.7 7.8a9.2 9.2 0 0 1-1.64.49c-.72.15-1.63.23-2.74.23-.94 0-1.77-.15-2.5-.46a4.82 4.82 0 0 1-1.81-1.32 5.6 5.6 0 0 1-1.1-2.06 9.59 9.59 0 0 1-.36-2.75c0-1.17.19-2.33.56-3.49a9.53 9.53 0 0 1 1.65-3.09c.73-.9 1.63-1.65 2.71-2.22a7.86 7.86 0 0 1 5.78-.54c.73.21 1.38.53 1.96.95l-1.14 2.72a5.37 5.37 0 0 0-1.5-.74 5.28 5.28 0 0 0-1.57-.25c-.83 0-1.56.17-2.2.52a4.98 4.98 0 0 0-1.63 1.4 6.46 6.46 0 0 0-1.01 2.06 8.73 8.73 0 0 0-.35 2.48c0 1.32.25 2.28.74 2.9.5.6 1.23.9 2.2.9zm10.12-12.9h3.16l-3.38 15.6h-3.14l3.36-15.6zm12.44 15.6a87.5 87.5 0 0 0-1.9-5.31 54.83 54.83 0 0 0-2.25-5.02l-2.23 10.33h-3.1l3.36-15.6h2.41c.31.53.65 1.15 1 1.86.36.72.73 1.48 1.1 2.31a99.27 99.27 0 0 1 2.21 5.22l2-9.38h3.15L124 48.56h-2.37zm5.55 0l3.36-15.6h9.17l-.64 2.89h-6.02L132.4 39h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.61zm12.03 0l3.36-15.6h9.17l-.65 2.89h-6.01l-.65 3.15h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.61zm19.34-15.77c.9 0 1.69.12 2.37.36.67.24 1.23.56 1.68.96.44.4.77.89.99 1.43a4.67 4.67 0 0 1 .32 1.72c0 .5-.05.99-.15 1.47a4.16 4.16 0 0 1-.57 1.37 4.91 4.91 0 0 1-1.1 1.2 6.2 6.2 0 0 1-1.8.94c.38.78.77 1.72 1.16 2.83a59.42 59.42 0 0 1 1.13 3.49h-3.38a282.28 282.28 0 0 0-.95-3.07 15.43 15.43 0 0 0-1.06-2.62h-1.58l-1.23 5.69h-3.14l3.3-15.37a19.5 19.5 0 0 1 2.12-.32 22.12 22.12 0 0 1 1.89-.08zm-.1 2.97a15.37 15.37 0 0 0-1.32.06l-.91 4.28h1.07c.65 0 1.2-.07 1.64-.2.45-.14.8-.32 1.07-.54.27-.23.46-.49.58-.78a2.43 2.43 0 0 0 .07-1.62 1.46 1.46 0 0 0-.36-.62 1.83 1.83 0 0 0-.71-.43 3.5 3.5 0 0 0-1.13-.15zm10 10.19c.31 0 .62-.02.93-.08a2.57 2.57 0 0 0 .83-.28c.24-.14.44-.33.6-.57.15-.25.23-.57.23-.96 0-.3-.07-.56-.22-.77a2.77 2.77 0 0 0-.57-.6 5.37 5.37 0 0 0-.77-.5 12.7 12.7 0 0 1-.85-.49 11.58 11.58 0 0 1-1.03-.77 4.47 4.47 0 0 1-.83-.9 4.53 4.53 0 0 1-.55-1.13 4.61 4.61 0 0 1-.2-1.43c0-.7.12-1.33.35-1.93a4.2 4.2 0 0 1 1.06-1.54 4.94 4.94 0 0 1 1.75-1.02 7.44 7.44 0 0 1 4.86.05 6.31 6.31 0 0 1 1.7.88l-1.31 2.6a4.56 4.56 0 0 0-2.82-1.02c-.31 0-.6.03-.89.09a2.16 2.16 0 0 0-.75.3 1.6 1.6 0 0 0-.52.55c-.13.23-.19.5-.19.84 0 .3.05.55.15.75.1.2.24.38.4.53.16.15.35.28.56.4l.7.39c.41.24.81.5 1.2.76.4.27.74.59 1.04.94a4.2 4.2 0 0 1 .97 2.8c0 .85-.14 1.6-.42 2.23a4.28 4.28 0 0 1-1.2 1.57 5.08 5.08 0 0 1-1.83.94c-.71.2-1.5.3-2.36.3a7.7 7.7 0 0 1-1.59-.16 10.5 10.5 0 0 1-1.34-.37 6.61 6.61 0 0 1-1.03-.46 6.13 6.13 0 0 1-.7-.45l1.34-2.68a6.6 6.6 0 0 0 2.29 1.07c.32.08.66.12 1 .12zM77.48 24.61l-.35 1.67h-7.49L72.72 12h1.8l-2.73 12.6h5.69zm6.98 1.79a8.6 8.6 0 0 1-.18-.5 4.48 4.48 0 0 1-.15-.6 5.6 5.6 0 0 1-1.1.83c-.45.28-1.01.41-1.68.41-.54 0-1.01-.1-1.4-.28a2.52 2.52 0 0 1-.95-.8 3.49 3.49 0 0 1-.55-1.22 6.35 6.35 0 0 1-.17-1.54c0-.92.13-1.82.41-2.7a7.1 7.1 0 0 1 1.25-2.35 6.33 6.33 0 0 1 2.1-1.67 6.45 6.45 0 0 1 4.1-.51c.45.08.84.22 1.16.41l-1.43 6.47-.16.9c-.04.29-.06.6-.06.9a6.12 6.12 0 0 0 .33 2l-1.52.25zm-2.76-1.48c.52 0 .97-.13 1.34-.37.37-.25.69-.54.96-.87a10.57 10.57 0 0 1 .19-1.5l1.1-5.1A1.1 1.1 0 0 0 85 17a4.24 4.24 0 0 0-.38-.02c-.7 0-1.34.15-1.9.46a4.65 4.65 0 0 0-1.46 1.2 5.45 5.45 0 0 0-.93 1.75A6.73 6.73 0 0 0 80 22.5c0 .29.02.58.07.87.05.3.14.56.27.79.13.22.3.4.52.55.22.14.5.22.84.22zm8.36.02c.26 0 .52-.03.79-.09.26-.05.5-.14.7-.26.2-.13.37-.3.5-.5.13-.22.2-.48.2-.8 0-.2-.03-.39-.1-.55a1.34 1.34 0 0 0-.3-.44 2.95 2.95 0 0 0-.5-.4c-.2-.13-.45-.28-.74-.44a10.8 10.8 0 0 1-.77-.46 2.82 2.82 0 0 1-.62-.53c-.18-.2-.32-.45-.42-.73s-.15-.62-.15-1.02c0-1.03.33-1.86 1-2.48.67-.63 1.64-.94 2.91-.94a5.65 5.65 0 0 1 2.5.56l-.65 1.56a3.86 3.86 0 0 0-.83-.35 4.12 4.12 0 0 0-1.28-.18c-.23 0-.47.02-.7.08a1.9 1.9 0 0 0-.64.28c-.2.13-.35.3-.46.51a1.58 1.58 0 0 0-.18.77c0 .37.13.68.39.92s.65.49 1.17.75c.32.17.6.33.86.5.25.18.47.37.65.58.18.22.31.47.4.75.1.3.14.64.14 1.03 0 .58-.1 1.09-.3 1.53a2.95 2.95 0 0 1-.82 1.09 3.56 3.56 0 0 1-1.25.65 5.48 5.48 0 0 1-1.57.21 6.48 6.48 0 0 1-2.03-.3 3.9 3.9 0 0 1-.63-.26 5.42 5.42 0 0 1-.38-.22l.66-1.56a5.16 5.16 0 0 0 .92.45 4.94 4.94 0 0 0 1.53.29zm8.22 1.62c-.92 0-1.6-.22-2.03-.68-.44-.45-.65-1.1-.65-1.97 0-.57.09-1.29.26-2.17l1.98-9.15 1.8-.33-.72 3.31h3.27l-.35 1.6h-3.28l-1.02 4.74c-.14.65-.22 1.2-.22 1.69 0 .45.11.78.33.98.23.2.6.3 1.11.3a3 3 0 0 0 1.06-.2c.35-.13.61-.25.8-.36l.13 1.63c-.19.12-.5.25-.95.4a4.88 4.88 0 0 1-1.51.21zm20.7-11.48a157.96 157.96 0 0 0-1.7 2.76l-1.08 1.8-1.07 1.8-.97 1.63-.72 1.23H112a157.98 157.98 0 0 0-.47-2.87l-.3-1.81-.32-1.8-.28-1.58a70.2 70.2 0 0 0-.23-1.16 205.99 205.99 0 0 0-1.52 5.47c-.5 1.88-.97 3.79-1.44 5.72h-1.78a205.25 205.25 0 0 1 1.94-7.44 259.75 259.75 0 0 1 1.01-3.55c.34-1.15.67-2.24 1-3.27h1.76l.47 2.14c.17.82.33 1.69.5 2.58a109.53 109.53 0 0 1 .82 5.12l1.48-2.45a1380.44 1380.44 0 0 1 3.2-5.26 81.42 81.42 0 0 1 1.38-2.13h1.72c-.2 2.32-.49 4.68-.84 7.07a267.5 267.5 0 0 1-1.16 7.2h-1.8c.38-1.98.72-3.9 1.02-5.76.31-1.86.59-3.67.82-5.44zm4.02 11.2h-1.72l2.31-10.71h1.72L123 26.27zm2-12.64a.97.97 0 0 1-.71-.3 1.1 1.1 0 0 1-.29-.8c0-.44.12-.78.37-1.04s.53-.38.84-.38a1 1 0 0 1 .72.3c.2.2.3.48.3.84 0 .41-.13.74-.4 1-.25.25-.53.38-.83.38zm2.32 12.63h-1.73l2.23-10.29a12.51 12.51 0 0 1 1.84-.46 10.34 10.34 0 0 1 1.77-.18c.56 0 1.03.09 1.44.26s.73.4.97.7c.25.3.43.65.55 1.07a5 5 0 0 1 .17 1.37c0 .32-.02.65-.07 1s-.11.7-.19 1.06l-1.18 5.47h-1.73l1.1-5.06.25-1.17c.08-.4.12-.78.12-1.14 0-.54-.14-1-.4-1.36-.28-.37-.79-.55-1.53-.55-.31 0-.61.02-.9.06a4.05 4.05 0 0 0-.75.17l-1.96 9.05zm11.7.27c-.54 0-1-.09-1.36-.26a2.45 2.45 0 0 1-.89-.73 2.81 2.81 0 0 1-.49-1.07 5.63 5.63 0 0 1-.15-1.31c0-.36.03-.71.09-1.06.05-.35.12-.7.2-1.06l1.18-5.48h1.72l-1.1 5.07a35.49 35.49 0 0 1-.23 1.1 5.56 5.56 0 0 0-.09 2c.05.22.13.42.25.59.11.17.27.3.47.41.2.1.44.16.74.16.53 0 1-.13 1.4-.38a4.04 4.04 0 0 0 1-.9 11.18 11.18 0 0 1 .2-1.44l1.42-6.61h1.72l-1.46 6.77-.16.92a6.21 6.21 0 0 0-.06.92 5.91 5.91 0 0 0 .33 1.97l-1.52.25a6.58 6.58 0 0 1-.18-.51 4.25 4.25 0 0 1-.15-.62 6.63 6.63 0 0 1-.48.43 3.58 3.58 0 0 1-.64.41 4.33 4.33 0 0 1-.8.31c-.3.08-.61.12-.95.12zm9.67.02c-.92 0-1.6-.22-2.03-.68s-.65-1.1-.65-1.97c0-.57.09-1.29.26-2.17l1.98-9.15 1.8-.33-.73 3.31h3.28l-.35 1.6h-3.28l-1.02 4.74c-.14.65-.22 1.2-.22 1.69 0 .45.11.78.33.98.23.2.6.3 1.11.3.36 0 .71-.07 1.06-.2.35-.13.61-.25.8-.36l.13 1.63c-.19.12-.5.25-.95.4a4.88 4.88 0 0 1-1.52.21zm7.66-.02c-.63 0-1.17-.1-1.63-.3a3.17 3.17 0 0 1-1.15-.82 3.33 3.33 0 0 1-.69-1.23 4.9 4.9 0 0 1-.22-1.48c0-.96.13-1.88.39-2.78a7.93 7.93 0 0 1 1.11-2.36 5.57 5.57 0 0 1 1.76-1.64 4.57 4.57 0 0 1 3.66-.39 2.3 2.3 0 0 1 1.4 1.44 3.1 3.1 0 0 1 .17 1c0 .65-.1 1.19-.32 1.64a3.39 3.39 0 0 1-.83 1.12 3.69 3.69 0 0 1-1.22.7 9.59 9.59 0 0 1-1.44.39c-.5.1-1 .16-1.52.2l-1.45.09c-.02.1-.02.2-.02.27v.16c0 .32.03.62.1.9a1.7 1.7 0 0 0 1.15 1.24c.33.13.76.19 1.29.19a5.46 5.46 0 0 0 2.44-.7l.15 1.62a6.6 6.6 0 0 1-3.13.74zm-1.76-5.88a22.9 22.9 0 0 0 1.96-.16c.6-.07 1.1-.2 1.54-.39.43-.19.77-.44 1.01-.75a1.98 1.98 0 0 0 .3-1.63 1.02 1.02 0 0 0-.23-.38 1.17 1.17 0 0 0-.43-.29 1.84 1.84 0 0 0-.69-.11c-.43 0-.83.1-1.21.3a3.76 3.76 0 0 0-1.01.82c-.3.34-.55.73-.76 1.17a6.93 6.93 0 0 0-.48 1.42z"></path></svg> </a></div> <label for="menu-checkbox" class="menu-checkbox-label"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19"><path fill="#454545" d="M6.561 0H2.197A2.2 2.2 0 0 0 0 2.197V6.56a2.2 2.2 0 0 0 2.197 2.197H6.56A2.2 2.2 0 0 0 8.757 6.56V2.197A2.198 2.198 0 0 0 6.561 0zm.712 6.561c0 .394-.32.713-.713.713H2.197a.713.713 0 0 1-.713-.713V2.197c0-.394.32-.713.713-.713H6.56c.393 0 .713.319.713.713v4.364zM16.773 0h-4.305a2.23 2.23 0 0 0-2.227 2.227v4.305a2.23 2.23 0 0 0 2.227 2.227h4.305A2.231 2.231 0 0 0 19 6.531V2.227A2.23 2.23 0 0 0 16.773 0zm.743 6.531a.743.743 0 0 1-.742.742h-4.305a.743.743 0 0 1-.742-.742V2.227c0-.409.333-.742.742-.742h4.305c.409 0 .742.333.742.742v4.304zM6.561 10.242H2.197A2.2 2.2 0 0 0 0 12.439v4.363A2.2 2.2 0 0 0 2.197 19H6.56a2.2 2.2 0 0 0 2.197-2.197V12.44a2.199 2.199 0 0 0-2.196-2.198zm.712 6.561c0 .393-.32.713-.713.713H2.197a.714.714 0 0 1-.713-.713V12.44c0-.393.32-.713.713-.713H6.56c.393 0 .713.32.713.713v4.363zM16.773 10.242h-4.305a2.23 2.23 0 0 0-2.227 2.227v4.305a2.23 2.23 0 0 0 2.227 2.227h4.305A2.231 2.231 0 0 0 19 16.773v-4.305a2.23 2.23 0 0 0-2.227-2.226zm.743 6.531a.743.743 0 0 1-.742.742h-4.305a.743.743 0 0 1-.742-.742v-4.305c0-.409.333-.742.742-.742h4.305c.409 0 .742.333.742.742v4.305z"></path></svg></label> <input id="menu-checkbox" type="checkbox" name="msc" class="hide-checkbox"><div class="menu-search-wrapper"><div class="search-box"> <script> (function() {
 var cx = '006007372603907121706:6uxkvpewtny';
 var gcse = document.createElement('script');
 gcse.type = 'text/javascript';
 gcse.async = true;
 gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(gcse, s);
 })(); </script> <div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-en"><div class="gsc-control-wrapper-cse" dir="ltr"><form class="gsc-search-box gsc-search-box-tools" accept-charset="utf-8"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><div class="gsc-input-box" id="gsc-iw-id1"><table cellspacing="0" cellpadding="0" id="gs_id50" class="gstl_50 gsc-input" style="width: 100%; padding: 0px;"><tbody><tr><td id="gs_tti50" class="gsib_a"><input autocomplete="off" type="text" size="10" class="gsc-input" name="search" title="search" id="gsc-i-id1" dir="ltr" spellcheck="false" style="width: 100%; padding: 0px; border: none; margin: 0px; height: auto; background: url(&quot;https://www.google.com/cse/static/images/1x/en/branding.png&quot;) left center no-repeat rgb(255, 255, 255); outline: none;"></td><td class="gsib_b"><div class="gsst_b" id="gs_st50" dir="ltr"><a class="gsst_a" href="javascript:void(0)" style="display: none;" title="Clear search box" role="button"><span class="gscb_a" id="gs_cb50" aria-hidden="true">×</span></a></div></td></tr></tbody></table></div></td><td class="gsc-search-button"><button class="gsc-search-button gsc-search-button-v2"><svg width="13" height="13" viewBox="0 0 13 13"><title>search</title><path d="m4.8495 7.8226c0.82666 0 1.5262-0.29146 2.0985-0.87438 0.57232-0.58292 0.86378-1.2877 0.87438-2.1144 0.010599-0.82666-0.28086-1.5262-0.87438-2.0985-0.59352-0.57232-1.293-0.86378-2.0985-0.87438-0.8055-0.010599-1.5103 0.28086-2.1144 0.87438-0.60414 0.59352-0.8956 1.293-0.87438 2.0985 0.021197 0.8055 0.31266 1.5103 0.87438 2.1144 0.56172 0.60414 1.2665 0.8956 2.1144 0.87438zm4.4695 0.2115 3.681 3.6819-1.259 1.284-3.6817-3.7 0.0019784-0.69479-0.090043-0.098846c-0.87973 0.76087-1.92 1.1413-3.1207 1.1413-1.3553 0-2.5025-0.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239c0-1.3553 0.4696-2.4966 1.4088-3.4239 0.9392-0.92727 2.0864-1.3969 3.4417-1.4088 1.3553-0.011889 2.4906 0.45771 3.406 1.4088 0.9154 0.95107 1.379 2.0924 1.3909 3.4239 0 1.2126-0.38043 2.2588-1.1413 3.1385l0.098834 0.090049z"></path></svg></button></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="clear results">&nbsp;</div></td></tr></tbody></table></form><div class="gsc-results-wrapper-overlay"><div class="gsc-results-close-btn" tabindex="0"></div><div class="gsc-positioningWrapper"><div class="gsc-tabsAreaInvisible"><div aria-label="refinement" role="tab" class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Custom Search</div><span class="gs-spacer"> </span></div></div><div class="gsc-positioningWrapper"><div class="gsc-tabsAreaInvisible"></div></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td><td class="gsc-orderby-container"><div class="gsc-orderby-invisible"><div class="gsc-orderby-label gsc-inline-block">Sort by:</div><div class="gsc-option-menu-container gsc-inline-block"><div class="gsc-selected-option-container gsc-inline-block"><div class="gsc-selected-option">Relevance</div><div class="gsc-option-selector"></div></div><div class="gsc-option-menu-invisible"><div class="gsc-option-menu-item gsc-option-menu-item-highlighted"><div class="gsc-option">Relevance</div></div><div class="gsc-option-menu-item"><div class="gsc-option">Date</div></div></div></div></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><div><div class="gsc-expansionArea"></div></div></div></div></div></div><div class="gsc-modal-background-image" tabindex="0"></div></div></div></div></div><nav class="header-nav"> <b>Tutorials</b><ul class="dropdown"><li><a href="https://lastminuteengineers.com/electronics/basic-electronics/" class="bas">Basic Electronics</a></li><li><a href="https://lastminuteengineers.com/electronics/arduino-projects/" class="ard">Arduino</a></li><li><a href="https://lastminuteengineers.com/electronics/esp32-projects/" class="esp">ESP32</a></li><li><a href="https://lastminuteengineers.com/electronics/esp8266-projects/" class="esp">ESP8266</a></li></ul></nav></div> <label for="menu-checkbox" class="sidebar-overlay"></label></div></div> <label for="nav-sidebar-checkbox" class="nav-sidebar-label"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="15"><path fill="#454545" d="M19.999 1.034c0 .571-.463 1.035-1.033 1.035H1.034a1.033 1.033 0 1 1 0-2.069h17.932c.57 0 1.033.463 1.033 1.034zM19.999 7.5c0 .571-.463 1.034-1.033 1.034H1.034a1.034 1.034 0 0 1 0-2.068h17.932c.57 0 1.033.464 1.033 1.034zM20 13.966c0 .571-.464 1.034-1.034 1.034H1.034a1.033 1.033 0 1 1 0-2.068h17.932c.57 0 1.034.463 1.034 1.034z"></path></svg></label> <style type="text/css"> .dropdown a:before
 {
 display: inline-block;
 position: relative;
 background-repeat: no-repeat;
 }
 .py:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' version='1' viewBox='0 76 24 24'%3E%3Cpath fill='%23FFD141' d='M12 100c7 0 6-2 6-2v-3h-6v-1h8s4 0 4-6-3-6-3-6h-2v3s0 4-3 4h-6s-3 0-3 3v5s-1 3 5 3zm4-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2z'/%3E%3Cpath fill='%233773A6' d='M12 76c-6 0-6 3-6 3v3h6v1H4s-4-1-4 5 4 6 4 6h1v-3s0-3 4-3h6s3 0 3-3v-5s0-4-6-4zm-3 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .ard:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='4.5 0 24 24'%3E%3Cpath fill='%2300878F' d='M12 9a4 4 0 0 0-.6 0 3.2 3.2 0 0 0-3.2 3c0 1.7 1.4 3 3.2 3h.5c2-.3 3.2-2.2 3.7-3-.5-.8-1.7-2.8-3.7-3zm1.4 3.6H9.7v-1.2h3.7v1.2zM21.6 9a4 4 0 0 0-.5 0c-2 .2-3.2 2.2-3.7 3 .5.8 1.7 2.7 3.7 3h.5c1.8 0 3.2-1.3 3.2-3s-1.4-3-3.2-3zm1.7 3.6H22v1.3h-1.2v-1.3h-1.2v-1.2h1.2v-1.3H22v1.3h1.3v1.2z'/%3E%3Cpath fill='%2300878F' d='M16.5 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm5 16.8l-.7-.1a6.5 6.5 0 0 1-4.3-3 6.5 6.5 0 0 1-4.3 3h-.8c-2.7 0-5-2-5-4.7a4.9 4.9 0 0 1 5.8-4.7c2 .3 3.5 1.8 4.3 3a6.5 6.5 0 0 1 4.3-3h.8c2.7 0 5 2 5 4.7 0 2.6-2.3 4.8-5 4.8z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .esp:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 906.9 24 24'%3E%3Cpath fill='%23CC111F' d='M9.9 928.4c-.8-.3-1-.9-1-.9-.1 0 .7-1.3.7-1.9v-1.2a3.8 3.8 0 0 0-3.6-3.2 4 4 0 0 1-1.7-.4 4 4 0 0 1-1.8-1.8c-.3-.6-.5-1.2-.5-1.7l.3-1.8a4.2 4.2 0 0 1 3.1-2.5h1.9a12.1 12.1 0 0 1 10.4 14.9c-.1 0-1.4.7-2.2.7s-1.4-.5-1.5-.6l.5-2v-2a8.7 8.7 0 0 0-7.6-7.6c-.9-.1-1.1 0-1.3.3v.9l.9.2a7.2 7.2 0 0 1 5.9 10.4l-.4.7s-1.4-.1-2.1-.5z'/%3E%3Cpath fill='%23CC111F' d='M19.4 925.2l-.1-2a13.6 13.6 0 0 0-10.7-11.4c-.8-.2-2.9-.3-2.9-.3s-.2-1.2 0-1.8S8 908 8 908h.2A17 17 0 0 1 22.7 923c0 .2-.7 2-1.5 2.2s-1.8 0-1.8 0z'/%3E%3Cpath fill='%23CC111F' d='M23.2 919l-.1-.4c-.3-.9-.9-2-1.3-2.8a18.6 18.6 0 0 0-9.9-8.2l.1-.4c.1-.3 0-.3.7-.3A11 11 0 0 1 24 918.8l-.7.2z'/%3E%3Ccircle fill='%23CC111F' cx='6.1' cy='924.7' r='1.9'/%3E%3Cpath fill='%23CC111F' d='M13 930a12 12 0 0 1-8.4-20.6l-.7-.7a13 13 0 0 0 9.1 22.2 13 13 0 0 0 9.2-3.8l-.7-.7a12 12 0 0 1-8.5 3.5z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .bas:before {
 content: '';
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='11.88' y1='44.54' x2='28.85' y2='27.57' gradientTransform='matrix(1 0 0 -1 -8.36 48.05)'%3E%3Cstop offset='0' stop-color='%23752891'/%3E%3Cstop offset='1' stop-color='%23ee2c7e'/%3E%3C/linearGradient%3E%3Ccircle fill='url(%23a)' cx='12' cy='12' r='12'/%3E%3Cpath fill='%23FFF' d='M21.5 12a10.8 10.8 0 01-.73 4.4c-.3.72-.71 1.43-1.33 2.07a4.1 4.1 0 01-2.54 1.2 3.83 3.83 0 01-2.87-.98 7.68 7.68 0 01-1.62-2.02c-.8-1.38-1.3-2.77-1.8-4.11-.5-1.34-.94-2.66-1.49-3.81a6.64 6.64 0 00-.9-1.46c-.3-.37-.66-.54-.9-.6h-.39c-.07 0-.2 0-.3.04-.21.06-.43.17-.67.32-.47.3-.92.78-1.32 1.31A21.3 21.3 0 002.5 12c0-1.47.3-2.93.85-4.37.3-.7.7-1.41 1.3-2.06a4.13 4.13 0 011.83-1.13l.42-.09.27-.03a3.9 3.9 0 012.9 1.07c.71.63 1.17 1.34 1.57 2.03.79 1.39 1.29 2.77 1.79 4.11.48 1.34.93 2.66 1.48 3.8.27.56.59 1.07.9 1.43.34.35.59.52 1 .56.46.05.9-.07 1.38-.35a5 5 0 001.3-1.28A17.19 17.19 0 0021.5 12z'/%3E%3C/svg%3E");
 } </style></header><div id="content" class="site-content"><section id="primary" class="content-area"><main id="main" class="site-main"><div class="post-wrapper"> <input id="nav-sidebar-checkbox" type="checkbox" name="lfs" class="hide-checkbox"><nav class="nav-sidebar-wrapper"><div id="nav-sidebar" class="nav-sidebar shownav"><div class="textwidget custom-html-widget"><div id="chapters"><p class="nav-title-nc">Getting Started</p><div class="nav-section-nc"> <a href="https://lastminuteengineers.com/esp8266-nodemcu-arduino-tutorial/">ESP8266 with Arduino IDE</a> <a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/" class="current-chapter">Simple ESP8266 Web Server</a></div><p class="nav-title-nc">Projects</p><div class="nav-section-nc"> <a href="https://lastminuteengineers.com/esp8266-dht11-dht22-web-server-tutorial/">ESP8266 with DHT11 DHT22</a> <a href="https://lastminuteengineers.com/oled-display-esp8266-tutorial/">ESP8266 with OLED Display</a> <a href="https://lastminuteengineers.com/esp8266-ota-updates-arduino-ide/">ESP8266 OTA Updates </a><a href="https://lastminuteengineers.com/multiple-ds18b20-esp8266-nodemcu-tutorial/">ESP8266 with Multiple DS18B20s</a> <a href="https://lastminuteengineers.com/bme280-esp8266-weather-station/">ESP8266 Weather Station - BME280</a> <a href="https://lastminuteengineers.com/esp8266-ntp-server-date-time-tutorial/">ESP8266 NTP Server</a></div></div></div></div> <label for="nav-sidebar-checkbox" class="sidebar-overlay"></label></nav><div class="post-691 post type-post status-publish format-standard has-post-thumbnail hentry category-esp8266-projects entry"><article id="post-691"><div class="post-header"><div class="post-title"><h1 class="entry-title">Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE</h1></div></div><div class="featured-image"><figure class="post-thumbnail"> <img width="763" height="436" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Creating Simple ESP8266 Webserver in Arduino IDe using Access Poin &amp; Station mode" loading="lazy" srcset="https://lastminuteengineers.com/wp-content/uploads/2019/12/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode.jpg 763w, https://lastminuteengineers.com/wp-content/uploads/2019/12/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode-300x171.jpg 300w" sizes="(max-width: 763px) 100vw, 763px"></figure><!-- .post-thumbnail --></div><div class="entry-content"><p>Over the past few years, the ESP8266 has been a growing star among IoT or WiFi-related projects. It’s an extremely cost-effective WiFi module that – with a little extra effort – can be programmed to <strong>build a standalone web server</strong>. How cool is that!</p><div id="introduction"><div class="simple-note"><h3 id="what-is-a-web-server-and-how-it-works">What is a Web server and how it works?</h3><p>Web server is a place which stores, processes and delivers web pages to Web clients. Web client is nothing but a web browser on our laptops and smartphones. The communication between client and server takes place using a special protocol called Hypertext Transfer Protocol (HTTP).</p><figure class="aligncenter"><img loading="lazy" class=" lazyloaded" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/HTTP-Web-Server-Client-Illustration.png" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/HTTP-Web-Server-Client-Illustration.png" width="361" height="170" alt="HTTP Web Server Client Illustration"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/HTTP-Web-Server-Client-Illustration.png" width="361" height="170" alt="HTTP Web Server Client Illustration"></noscript></figure><p></p><p>In this protocol, a client initiates communication by making a request for a specific web page using HTTP and the server responds with the content of that web page or an error message if unable to do so (like famous 404 Error). Pages delivered by a server are mostly HTML documents.</p></div></div><h2 id="esp8266-operating-modes">ESP8266 Operating Modes<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-operating-modes" class="hlink"></a></h2><p>One of the greatest features ESP8266 provides is that it cannot only connect to an existing WiFi network and act as a Web Server, but it can also set up a network of its own, allowing other devices to connect directly to it and access web pages. This is possible because ESP8266 can operate in three different modes: Station mode, Soft Access Point mode, and both at the same time. This provides possibility of building <a href="https://en.wikipedia.org/wiki/Mesh_networking">mesh networks</a>.</p><h3 id="station-sta-mode">Station (STA) Mode</h3><p>The ESP8266 that connects to an existing WiFi network (one created by your wireless router) is called <strong>Station</strong> (STA)</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-STA-Mode-Demonstration.png" width="601" height="471" alt="ESP8266 NodeMCU Web Server Station STA Mode Demonstration"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-STA-Mode-Demonstration.png" width="601" height="471" alt="ESP8266 NodeMCU Web Server Station STA Mode Demonstration"></noscript></figure></div><p>In STA mode ESP8266 gets IP from wireless router to which it is connected. With this IP address, it can set up a web server and <strong>deliver web pages to all connected devices under existing </strong><strong>WiFi network</strong>.</p><h3 id="soft-access-point-ap-mode">Soft Access Point (AP) Mode</h3><p>The ESP8266 that creates its own WiFi network and acts as a hub (Just like WiFi router) for one or more stations is called <strong>Access Point</strong> (AP). Unlike WiFi router, it does not have interface to a wired network. So, such mode of operation is called <strong>Soft Access Point</strong> (soft-AP). Also the maximum number of stations that can connect to it is limited to five.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Soft-Access-Point-AP-Mode-Demonstration.png" width="601" height="471" alt="ESP8266 NodeMCU Web Server Soft Access Point AP Mode Demonstration"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Soft-Access-Point-AP-Mode-Demonstration.png" width="601" height="471" alt="ESP8266 NodeMCU Web Server Soft Access Point AP Mode Demonstration"></noscript></figure></div><p>In AP mode ESP8266 creates a new WiFi network and sets SSID (Name of the network) and IP address to it. With this IP address, it can <strong>deliver web pages to all connected devices under its own</strong><strong> network</strong>.</p><h2 id="wiring-leds-to-esp8266-nodemcu">Wiring – Connecting LEDs to ESP8266 NodeMCU<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#wiring-leds-to-esp8266-nodemcu" class="hlink"></a></h2><p>Now that we know the basics of how web server works, and in which modes ESP8266 can create a web server, it’s time to connect some LEDs to ESP8266 NodeMCU that we want to control over WiFi.</p><p>Start by placing the NodeMCU on to your breadboard, ensuring each side of the board is on a separate side of the breadboard. Next, connect two LEDs to digital GPIO D6 and D7 through a 220Ω current limiting resistor.</p><p>When you’re done you should have something that looks similar to the illustration shown below.</p><div class="wp-block-image size-full"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Simple-ESP8266-NodeMCU-Web-Server-Wiring-Fritzing-Connections-with-LED.png" width="429" height="235" alt="Simple ESP8266 NodeMCU Web Server Wiring Fritzing Connections with LED"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Simple-ESP8266-NodeMCU-Web-Server-Wiring-Fritzing-Connections-with-LED.png" width="429" height="235" alt="Simple ESP8266 NodeMCU Web Server Wiring Fritzing Connections with LED"></noscript><figcaption>Wiring LEDs to ESP8266 NodeMCU</figcaption></figure></div><h2 id="concept-behind-controlling-things-from-esp8266-web-server">Concept Behind Controlling Things From ESP8266 Web Server<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#concept-behind-controlling-things-from-esp8266-web-server" class="hlink"></a></h2><p>So, you might be thinking, “How am I going to control things from a web server that merely processes and delivers web pages?” Well, then you need to understand what’s going on behind the scene.</p><p>When you type a URL in a web browser and hit ENTER, the browser sends a HTTP request (a.k.a. GET request) to a web server. It’s a job of web server to handle this request by doing something. You might have figured it out by now that we are going to control things by accessing a specific URL. For example, suppose we entered a URL like http://192.168.1.1/<strong>ledon</strong> in a browser. The browser then sends a HTTP request to ESP8266 to handle this request. When ESP8266 reads this request, it knows that user wants to turn the LED ON. So, it turns the LED ON and sends a dynamic webpage to a browser showing <strong>LED status : ON</strong> As easy as Pie!</p><h2 id="esp8266-as-http-server-using-wifi-access-point-ap-mode">ESP8266 as HTTP Server using WiFi Access Point (AP) mode<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-as-http-server-using-wifi-access-point-ap-mode" class="hlink"></a></h2><p>Now let’s move on to the interesting stuff!</p><p>As the heading suggests, this example demonstrates how to turn the ESP8266 into an access point (AP), and serve up web pages to any connected client. To start with, plug your ESP8266 NodeMCU into your computer and Try the sketch out; and then we will dissect it in some detail.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>#include <span class="str">&lt;ESP8266WiFi.h&gt;</span>
#include <span class="str">&lt;ESP8266WebServer.h&gt;</span>

<span class="com">/* Put your SSID &amp; Password */</span>
<span class="kwd">const</span> <span class="kwd">char</span>* ssid = <span class="str">"NodeMCU"</span>;  <span class="com">// Enter SSID here</span>
<span class="kwd">const</span> <span class="kwd">char</span>* password = <span class="str">"12345678"</span>;  <span class="com">//Enter Password here</span>

<span class="com">/* Put IP Address details */</span>
IPAddress <span class="func">local_ip</span>(<span class="lit">192</span>,<span class="lit">168</span>,<span class="lit">1</span>,<span class="lit">1</span>);
IPAddress <span class="func">gateway</span>(<span class="lit">192</span>,<span class="lit">168</span>,<span class="lit">1</span>,<span class="lit">1</span>);
IPAddress <span class="func">subnet</span>(<span class="lit">255</span>,<span class="lit">255</span>,<span class="lit">255</span>,<span class="lit">0</span>);

ESP8266WebServer <span class="func">server</span>(<span class="lit">80</span>);

uint8_t LED1pin = D7;
bool LED1status = LOW;

uint8_t LED2pin = D6;
bool LED2status = LOW;

<span class="kwd">void</span> <span class="func">setup</span>() {
  Serial.<span class="func">begin</span>(<span class="lit">115200</span>);
  <span class="func">pinMode</span>(LED1pin, OUTPUT);
  <span class="func">pinMode</span>(LED2pin, OUTPUT);

  WiFi.<span class="func">softAP</span>(ssid, password);
  WiFi.<span class="func">softAPConfig</span>(local_ip, gateway, subnet);
  <span class="func">delay</span>(<span class="lit">100</span>);
  
  server.<span class="func">on</span>(<span class="str">"/"</span>, handle_OnConnect);
  server.<span class="func">on</span>(<span class="str">"/led1on"</span>, handle_led1on);
  server.<span class="func">on</span>(<span class="str">"/led1off"</span>, handle_led1off);
  server.<span class="func">on</span>(<span class="str">"/led2on"</span>, handle_led2on);
  server.<span class="func">on</span>(<span class="str">"/led2off"</span>, handle_led2off);
  server.<span class="func">onNotFound</span>(handle_NotFound);
  
  server.<span class="func">begin</span>();
  Serial.<span class="func">println</span>(<span class="str">"HTTP server started"</span>);
}
<span class="kwd">void</span> <span class="func">loop</span>() {
  server.<span class="func">handleClient</span>();
  <span class="kwd">if</span>(LED1status)
  {<span class="func">digitalWrite</span>(LED1pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED1pin, LOW);}
  
  <span class="kwd">if</span>(LED2status)
  {<span class="func">digitalWrite</span>(LED2pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED2pin, LOW);}
}

<span class="kwd">void</span> <span class="func">handle_OnConnect</span>() {
  LED1status = LOW;
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF | GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led1on</span>() {
  LED1status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(true,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led1off</span>() {
  LED1status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(false,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led2on</span>() {
  LED2status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,true)); 
}

<span class="kwd">void</span> <span class="func">handle_led2off</span>() {
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,false)); 
}

<span class="kwd">void</span> <span class="func">handle_NotFound</span>(){
  server.<span class="func">send</span>(<span class="lit">404</span>, <span class="str">"text/plain"</span>, <span class="str">"Not found"</span>);
}

String <span class="func">SendHTML</span>(uint8_t led1stat,uint8_t led2stat){
  String ptr = <span class="str">"&lt;!DOCTYPE html&gt; &lt;html&gt;\n"</span>;
  ptr +=<span class="str">"&lt;head&gt;&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\"&gt;\n"</span>;
  ptr +=<span class="str">"&lt;title&gt;LED Control&lt;/title&gt;\n"</span>;
  ptr +=<span class="str">"&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n"</span>;
  ptr +=<span class="str">"body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n"</span>;
  ptr +=<span class="str">".button {display: block;width: 80px;background-color: #1abc9c;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n"</span>;
  ptr +=<span class="str">".button-on {background-color: #1abc9c;}\n"</span>;
  ptr +=<span class="str">".button-on:active {background-color: #16a085;}\n"</span>;
  ptr +=<span class="str">".button-off {background-color: #34495e;}\n"</span>;
  ptr +=<span class="str">".button-off:active {background-color: #2c3e50;}\n"</span>;
  ptr +=<span class="str">"p {font-size: 14px;color: #888;margin-bottom: 10px;}\n"</span>;
  ptr +=<span class="str">"&lt;/style&gt;\n"</span>;
  ptr +=<span class="str">"&lt;/head&gt;\n"</span>;
  ptr +=<span class="str">"&lt;body&gt;\n"</span>;
  ptr +=<span class="str">"&lt;h1&gt;ESP8266 Web Server&lt;/h1&gt;\n"</span>;
  ptr +=<span class="str">"&lt;h3&gt;Using Access Point(AP) Mode&lt;/h3&gt;\n"</span>;
  
   <span class="kwd">if</span>(led1stat)
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led1off\"&gt;OFF&lt;/a&gt;\n"</span>;}
  <span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led1on\"&gt;ON&lt;/a&gt;\n"</span>;}

  <span class="kwd">if</span>(led2stat)
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led2off\"&gt;OFF&lt;/a&gt;\n"</span>;}
  <span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led2on\"&gt;ON&lt;/a&gt;\n"</span>;}

  ptr +=<span class="str">"&lt;/body&gt;\n"</span>;
  ptr +=<span class="str">"&lt;/html&gt;\n"</span>;
  <span class="kwd">return</span> ptr;
}</code></pre></div><h2 id="accessing-the-web-server-in-ap-mode">Accessing the Web Server in AP mode<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#accessing-the-web-server-in-ap-mode" class="hlink"></a></h2><p>After uploading the sketch, open the Serial Monitor at a baud rate of 115200. And press the RESET button on ESP8266. If everything is OK, it will show <strong>HTTP server started</strong> message.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-Server-Started.png" width="399" height="193" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - Server Started"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-Server-Started.png" width="399" height="193" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - Server Started"></noscript></figure></div><p>Next, find any device that you can connect to a WiFi network – phone, laptop, etc. And look for a network called <strong>NodeMCU</strong>. Join the network with password <strong>123456789</strong>.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Joining-Server.png" width="356" height="287" alt="ESP8266 NodeMCU Web Server Access Point Mode - Joining Server"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Joining-Server.png" width="356" height="287" alt="ESP8266 NodeMCU Web Server Access Point Mode - Joining Server"></noscript></figure></div><p>After connecting to your NodeMCU AP network, load up a browser and point it to 192.168.1.1 The NodeMCU should serve up a web page showing current status of LEDs and two buttons to control them. If take a look at the serial monitor at the same time, you can see status of NodeMCU’s GPIO pins.</p><div class="text-align-center"><div class="inline-screenshot1"><figure><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Web-Page.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Access Point Mode - Web Page"><noscript><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Web-Page.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Access Point Mode - Web Page"></noscript></figure></div><div class="inline-screenshot2"><figure><img loading="lazy" class="aligncenter size-full  lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-Webpage-Accessed.png" width="399" height="203" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - Webpage Accessed"><noscript><img loading="lazy" class="aligncenter size-full  lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-Webpage-Accessed.png" width="399" height="203" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - Webpage Accessed"></noscript></figure></div></div><p>Now, click the button to turn LED1 ON while keeping an eye on the URL. Once you click the button, the ESP8266 receives a request for <strong>/led1on</strong> URL. It then turns the LED1 ON and serves a web page with status of LED updated. It also prints the status of GPIO pin on the serial monitor.</p><div class="text-align-center"><div class="inline-screenshot1"><figure><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Web-Page-LED-Control.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Access Point Mode Web Page - LED Control"><noscript><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Web-Page-LED-Control.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Access Point Mode Web Page - LED Control"></noscript></figure></div><div class="inline-screenshot2"><figure><img loading="lazy" class="aligncenter size-full  lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-LED-Control.png" width="399" height="211" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - LED Control"><noscript><img loading="lazy" class="aligncenter size-full  lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Access-Point-Mode-Serial-Monitor-Output-LED-Control.png" width="399" height="211" alt="ESP8266 NodeMCU Web Server Access Point Mode Serial Monitor Output - LED Control"></noscript></figure></div></div><p>You can test LED2 button and check that it works in a similar way.</p><p>Now, let’s take a closer look at the code to see how it works, so that you are able to modify it to fulfill your needs.</p><h2 id="detailed-code-explanation">Detailed Code Explanation<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#detailed-code-explanation" class="hlink"></a></h2><p>The sketch starts by including <a href="https://github.com/esp8266/Arduino/blob/master/libraries/ESP8266WiFi/src/ESP8266WiFi.h">ESP8266WiFi.h</a> library. This library provides ESP8266 specific WiFi methods we are calling to connect to network. Following that we also include the <a href="https://github.com/esp8266/Arduino/blob/master/libraries/ESP8266WebServer/src/ESP8266WebServer.h">ESP8266WebServer.h</a> library, which has some methods available that will help us setting up a server and handle incoming HTTP requests without needing to worry about low level implementation details.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>#include <span class="str">&lt;ESP8266WiFi.h&gt;</span>
#include <span class="str">&lt;ESP8266WebServer.h&gt;</span></code></pre></div><p>As we are setting the ESP8266 NodeMCU in Access Point (AP) mode, it will create a WiFi network. Hence, we need to set its SSID, Password, IP address, IP subnet mask and IP gateway.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="com">/* Put your SSID &amp; Password */</span>
<span class="kwd">const</span> <span class="kwd">char</span>* ssid = <span class="str">"NodeMCU"</span>;  <span class="com">// Enter SSID here</span>
<span class="kwd">const</span> <span class="kwd">char</span>* password = <span class="str">"12345678"</span>;  <span class="com">//Enter Password here</span>

<span class="com">/* Put IP Address details */</span>
IPAddress <span class="func">local_ip</span>(<span class="lit">192</span>,<span class="lit">168</span>,<span class="lit">1</span>,<span class="lit">1</span>);
IPAddress <span class="func">gateway</span>(<span class="lit">192</span>,<span class="lit">168</span>,<span class="lit">1</span>,<span class="lit">1</span>);
IPAddress <span class="func">subnet</span>(<span class="lit">255</span>,<span class="lit">255</span>,<span class="lit">255</span>,<span class="lit">0</span>);</code></pre></div><p>Next, we declare an object of ESP8266WebServer library, so we can access its functions. The constructor of this object takes <a href="https://en.wikipedia.org/wiki/Port_(computer_networking)">port</a> (where the server will be listening to) as a parameter. Since 80 is the default port for HTTP, we will use this value. Now you can access the server without needing to specify the port in the URL.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="com">// declare an object of ESP8266WebServer library</span>
ESP8266WebServer <span class="func">server</span>(<span class="lit">80</span>);</code></pre></div><p>Next, we declare the NodeMCU’s GPIO pins to which LEDs are connected and their initial state.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>uint8_t LED1pin = D7;
bool LED1status = LOW;

uint8_t LED2pin = D6;
bool LED2status = LOW;</code></pre></div><h3 id="inside-setup-function">Inside Setup() Function</h3><p>We configure our HTTP server before actually running it. First of all, we open a serial connection for debugging purpose and set GPIO ports to OUTPUT.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>Serial.<span class="func">begin</span>(<span class="lit">115200</span>);
<span class="func">pinMode</span>(LED1pin, OUTPUT);
<span class="func">pinMode</span>(LED2pin, OUTPUT);</code></pre></div><p>Then, we set up a soft access point to establish a Wi-Fi network by proving SSID, Password, IP address, IP subnet mask and IP gateway.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>WiFi.<span class="func">softAP</span>(ssid, password);
WiFi.<span class="func">softAPConfig</span>(local_ip, gateway, subnet);
<span class="func">delay</span>(<span class="lit">100</span>);</code></pre></div><p>In order to handle incoming HTTP requests, we need to specify which code to execute when a particular URL is hit. To do so, we use <a href="https://github.com/esp8266/Arduino/blob/4897e0006b5b0123a2fa31f67b14a3fff65ce561/libraries/ESP8266WebServer/src/ESP8266WebServer.cpp#L135">on</a> method. This method takes two parameters. First one is a URL path and second one is the name of function which we want to execute when that URL is hit.</p><p>For example, the first line of below code snippet indicates that when a server receives an HTTP request on the root (<strong>/</strong>) path, it will trigger the <code>handle_OnConnect()</code> function. Note that the URL specified is a relative path.</p><p>Likewise, we need to specify 4 more URLs to handle two states of 2 LEDs.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>server.<span class="func">on</span>(<span class="str">"/"</span>, handle_OnConnect);
server.<span class="func">on</span>(<span class="str">"/led1on"</span>, handle_led1on);
server.<span class="func">on</span>(<span class="str">"/led1off"</span>, handle_led1off);
server.<span class="func">on</span>(<span class="str">"/led2on"</span>, handle_led2on);
server.<span class="func">on</span>(<span class="str">"/led2off"</span>, handle_led2off);</code></pre></div><p>We haven’t specified what the server should do if the client requests any URL other than specified with <code>server.on()</code> . It should respond with an HTTP status 404 (Not Found) and a message for the user. We put this in a function as well, and use <code>server.onNotFound()</code> to tell it that it should execute it when it receives a request for a URI that wasn’t specified with server.on</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>server.<span class="func">onNotFound</span>(handle_NotFound);</code></pre></div><p>Now, to start our server, we call the begin method on the server object.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>server.<span class="func">begin</span>();
Serial.<span class="func">println</span>(<span class="str">"HTTP server started"</span>);</code></pre></div><h3 id="inside-loop-function">Inside Loop() Function</h3><p>To handle the actual incoming HTTP requests, we need to call the <code>handleClient()</code> method on the server object. We also change the state of LED as per the request.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="kwd">void</span> <span class="func">loop</span>() {
  server.<span class="func">handleClient</span>();
  <span class="kwd">if</span>(LED1status)
  {<span class="func">digitalWrite</span>(LED1pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED1pin, LOW);}
  
  <span class="kwd">if</span>(LED2status)
  {<span class="func">digitalWrite</span>(LED2pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED2pin, LOW);}
}</code></pre></div><p>Next, we need to create a function we attached to root (/) URL with server.on. Remember? At the start of this function, we set the status of both the LEDs to LOW (Initial state of LEDs) and print it on serial monitor. In order to respond to the HTTP request, we use the <a href="https://github.com/esp8266/Arduino/blob/4897e0006b5b0123a2fa31f67b14a3fff65ce561/libraries/ESP8266WebServer/src/ESP8266WebServer.cpp#L284">send</a> method. Although the method can be called with a different set of arguments, its simplest form consists of the HTTP response code, the content type and the content.</p><p>In our case, we are sending the code <strong>200</strong> (one of the <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status codes</a>), which corresponds to the <strong>OK</strong> response. Then, we are specifying the content type as “text/html“, and finally we are calling <code>SendHTML()</code> custom function which creates a dynamic HTML page containing status of LEDs.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="kwd">void</span> <span class="func">handle_OnConnect</span>() 
{
  LED1status = LOW;
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF | GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,LED2status)); 
}</code></pre></div><p>Likewise, we need to create four functions to handle LED ON/OFF requests and 404 Error page.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="kwd">void</span> <span class="func">handle_led1on</span>() {
  LED1status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(true,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led1off</span>() {
  LED1status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(false,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led2on</span>() {
  LED2status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,true)); 
}

<span class="kwd">void</span> <span class="func">handle_led2off</span>() {
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,false)); 
}

<span class="kwd">void</span> <span class="func">handle_NotFound</span>(){
  server.<span class="func">send</span>(<span class="lit">404</span>, <span class="str">"text/plain"</span>, <span class="str">"Not found"</span>);
}</code></pre></div><h3 id="displaying-the-html-web-page">Displaying the HTML Web Page</h3><p><code>SendHTML()</code> function is responsible for generating a web page whenever the ESP8266 web server gets a request from a web client. It merely concatenates HTML code into a big string and returns to the<code> server.send()</code> function we discussed earlier. The function takes status of LEDs as a parameter to dynamically generate the HTML content.</p><p>The first text you should always send is the <a href="https://www.w3schools.com/tags/tag_doctype.asp"><strong>&lt;!DOCTYPE&gt;</strong> declaration</a> that indicates that we’re sending HTML code.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>String <span class="func">SendHTML</span>(uint8_t led1stat,uint8_t led2stat){
String ptr = <span class="str">"&lt;!DOCTYPE html&gt; &lt;html&gt;\n"</span>;</code></pre></div><p>Next, the <a href="https://www.w3schools.com/css/css_rwd_viewport.asp">&lt;meta&gt; viewport element</a> makes the web page responsive in any web browser. While title tag sets the title of the page.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>ptr +=<span class="str">"&lt;head&gt;&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\"&gt;\n"</span>;
ptr +=<span class="str">"&lt;title&gt;LED Control&lt;/title&gt;\n"</span>;</code></pre></div><h3 id="styling-the-web-page">Styling the Web Page</h3><p>Next, we have some CSS to style the buttons and the web page appearance. We choose the Helvetica font, define the content to be displayed as an inline-block and aligned at the center.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>ptr +=<span class="str">"&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n"</span>;</code></pre></div><p>Following code then sets color, font and margin around the body, H1, H3 and p tags.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>ptr +=<span class="str">"body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n"</span>;
ptr +=<span class="str">"p {font-size: 14px;color: #888;margin-bottom: 10px;}\n"</span>;</code></pre></div><p>Some styling is applied to the buttons as well with properties like color, size, margin, etc. The ON and OFF button has different background color while <a href="https://www.w3schools.com/cssref/sel_active.asp">:active selector</a> for buttons ensure button click effect</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>ptr +=<span class="str">".button {display: block;width: 80px;background-color: #1abc9c;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n"</span>;
ptr +=<span class="str">".button-on {background-color: #1abc9c;}\n"</span>;
ptr +=<span class="str">".button-on:active {background-color: #16a085;}\n"</span>;
ptr +=<span class="str">".button-off {background-color: #34495e;}\n"</span>;
ptr +=<span class="str">".button-off:active {background-color: #2c3e50;}\n"</span>;</code></pre></div><h3 id="setting-the-web-page-heading">Setting the Web Page Heading</h3><p>Next, heading of the web page is set; you can change this text to anything that suits your application.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>ptr +=<span class="str">"&lt;h1&gt;ESP8266 Web Server&lt;/h1&gt;\n"</span>;
ptr +=<span class="str">"&lt;h3&gt;Using Access Point(AP) Mode&lt;/h3&gt;\n"</span>;</code></pre></div><h3 id="displaying-the-buttons-and-corresponding-state">Displaying the Buttons and Corresponding State</h3><p>To dynamically generate the buttons and LED status, we use if statement. So, depending upon the status of the GPIO pins, ON/OFF button is displayed.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="kwd">if</span>(led1stat)
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led1off\"&gt;OFF&lt;/a&gt;\n"</span>;}
<span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led1on\"&gt;ON&lt;/a&gt;\n"</span>;}

<span class="kwd">if</span>(led2stat)
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led2off\"&gt;OFF&lt;/a&gt;\n"</span>;}
<span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led2on\"&gt;ON&lt;/a&gt;\n"</span>;}</code></pre></div><h2 id="esp8266-as-http-server-using-wifi-station-sta-mode">ESP8266 as HTTP Server using WiFi Station (STA) mode<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-as-http-server-using-wifi-station-sta-mode" class="hlink"></a></h2><p>Now let’s move on to our next example which demonstrates how to turn the ESP8266 into Station (STA) mode, and serve up web pages to any connected client under existing network.</p><p>Before you head for uploading the sketch, you need to make some changes to make it work for you. You need to modify the following two variables with your network credentials, so that ESP8266 can establish a connection with existing network.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Change-SSID-Password-before-trying-STA-mode-web-server-sketch.png" width="544" height="426" alt="Change SSID &amp; Password before trying STA mode web server sketch"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Change-SSID-Password-before-trying-STA-mode-web-server-sketch.png" width="544" height="426" alt="Change SSID &amp; Password before trying STA mode web server sketch"></noscript></figure></div><p>Once you are done, go ahead and try the sketch out.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>#include <span class="str">&lt;ESP8266WiFi.h&gt;</span>
#include <span class="str">&lt;ESP8266WebServer.h&gt;</span>

<span class="com">/*Put your SSID &amp; Password*/</span>
<span class="kwd">const</span> <span class="kwd">char</span>* ssid = <span class="str">"YourNetworkName"</span>;  <span class="com">// Enter SSID here</span>
<span class="kwd">const</span> <span class="kwd">char</span>* password = <span class="str">"YourPassword"</span>;  <span class="com">//Enter Password here</span>

ESP8266WebServer <span class="func">server</span>(<span class="lit">80</span>);

uint8_t LED1pin = D7;
bool LED1status = LOW;

uint8_t LED2pin = D6;
bool LED2status = LOW;

<span class="kwd">void</span> <span class="func">setup</span>() {
  Serial.<span class="func">begin</span>(<span class="lit">115200</span>);
  <span class="func">delay</span>(<span class="lit">100</span>);
  <span class="func">pinMode</span>(LED1pin, OUTPUT);
  <span class="func">pinMode</span>(LED2pin, OUTPUT);

  Serial.<span class="func">println</span>(<span class="str">"Connecting to "</span>);
  Serial.<span class="func">println</span>(ssid);

  <span class="com">//connect to your local wi-fi network</span>
  WiFi.<span class="func">begin</span>(ssid, password);

  <span class="com">//check wi-fi is connected to wi-fi network</span>
  <span class="kwd">while</span> (WiFi.<span class="func">status</span>() != WL_CONNECTED) {
  <span class="func">delay</span>(<span class="lit">1000</span>);
  Serial.<span class="func">print</span>(<span class="str">"."</span>);
  }
  Serial.<span class="func">println</span>(<span class="str">""</span>);
  Serial.<span class="func">println</span>(<span class="str">"WiFi connected..!"</span>);
  Serial.<span class="func">print</span>(<span class="str">"Got IP: "</span>);  Serial.<span class="func">println</span>(WiFi.<span class="func">localIP</span>());

  server.<span class="func">on</span>(<span class="str">"/"</span>, handle_OnConnect);
  server.<span class="func">on</span>(<span class="str">"/led1on"</span>, handle_led1on);
  server.<span class="func">on</span>(<span class="str">"/led1off"</span>, handle_led1off);
  server.<span class="func">on</span>(<span class="str">"/led2on"</span>, handle_led2on);
  server.<span class="func">on</span>(<span class="str">"/led2off"</span>, handle_led2off);
  server.<span class="func">onNotFound</span>(handle_NotFound);

  server.<span class="func">begin</span>();
  Serial.<span class="func">println</span>(<span class="str">"HTTP server started"</span>);
}
<span class="kwd">void</span> <span class="func">loop</span>() {
  server.<span class="func">handleClient</span>();
  <span class="kwd">if</span>(LED1status)
  {<span class="func">digitalWrite</span>(LED1pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED1pin, LOW);}
  
  <span class="kwd">if</span>(LED2status)
  {<span class="func">digitalWrite</span>(LED2pin, HIGH);}
  <span class="kwd">else</span>
  {<span class="func">digitalWrite</span>(LED2pin, LOW);}
}

<span class="kwd">void</span> <span class="func">handle_OnConnect</span>() {
  LED1status = LOW;
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF | GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led1on</span>() {
  LED1status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(true,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led1off</span>() {
  LED1status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO7 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(false,LED2status)); 
}

<span class="kwd">void</span> <span class="func">handle_led2on</span>() {
  LED2status = HIGH;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: ON"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,true)); 
}

<span class="kwd">void</span> <span class="func">handle_led2off</span>() {
  LED2status = LOW;
  Serial.<span class="func">println</span>(<span class="str">"GPIO6 Status: OFF"</span>);
  server.<span class="func">send</span>(<span class="lit">200</span>, <span class="str">"text/html"</span>, <span class="func">SendHTML</span>(LED1status,false)); 
}

<span class="kwd">void</span> <span class="func">handle_NotFound</span>(){
  server.<span class="func">send</span>(<span class="lit">404</span>, <span class="str">"text/plain"</span>, <span class="str">"Not found"</span>);
}

String <span class="func">SendHTML</span>(uint8_t led1stat,uint8_t led2stat){
  String ptr = <span class="str">"&lt;!DOCTYPE html&gt; &lt;html&gt;\n"</span>;
  ptr +=<span class="str">"&lt;head&gt;&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\"&gt;\n"</span>;
  ptr +=<span class="str">"&lt;title&gt;LED Control&lt;/title&gt;\n"</span>;
  ptr +=<span class="str">"&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n"</span>;
  ptr +=<span class="str">"body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n"</span>;
  ptr +=<span class="str">".button {display: block;width: 80px;background-color: #1abc9c;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n"</span>;
  ptr +=<span class="str">".button-on {background-color: #1abc9c;}\n"</span>;
  ptr +=<span class="str">".button-on:active {background-color: #16a085;}\n"</span>;
  ptr +=<span class="str">".button-off {background-color: #34495e;}\n"</span>;
  ptr +=<span class="str">".button-off:active {background-color: #2c3e50;}\n"</span>;
  ptr +=<span class="str">"p {font-size: 14px;color: #888;margin-bottom: 10px;}\n"</span>;
  ptr +=<span class="str">"&lt;/style&gt;\n"</span>;
  ptr +=<span class="str">"&lt;/head&gt;\n"</span>;
  ptr +=<span class="str">"&lt;body&gt;\n"</span>;
  ptr +=<span class="str">"&lt;h1&gt;ESP8266 Web Server&lt;/h1&gt;\n"</span>;
    ptr +=<span class="str">"&lt;h3&gt;Using Station(STA) Mode&lt;/h3&gt;\n"</span>;
  
   <span class="kwd">if</span>(led1stat)
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led1off\"&gt;OFF&lt;/a&gt;\n"</span>;}
  <span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED1 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led1on\"&gt;ON&lt;/a&gt;\n"</span>;}

  <span class="kwd">if</span>(led2stat)
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: ON&lt;/p&gt;&lt;a class=\"button button-off\" href=\"/led2off\"&gt;OFF&lt;/a&gt;\n"</span>;}
  <span class="kwd">else</span>
  {ptr +=<span class="str">"&lt;p&gt;LED2 Status: OFF&lt;/p&gt;&lt;a class=\"button button-on\" href=\"/led2on\"&gt;ON&lt;/a&gt;\n"</span>;}

  ptr +=<span class="str">"&lt;/body&gt;\n"</span>;
  ptr +=<span class="str">"&lt;/html&gt;\n"</span>;
  <span class="kwd">return</span> ptr;
}</code></pre></div><h2 id="accessing-the-web-server-in-sta-mode">Accessing the Web Server in STA mode<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#accessing-the-web-server-in-sta-mode" class="hlink"></a></h2><p>After uploading the sketch, open the Serial Monitor at a baud rate of 115200. And press the RESET button on ESP8266. If everything is OK, it will output the dynamic IP address obtained from your router and show <strong>HTTP server started</strong> message.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-Server-Started.png" width="399" height="261" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - Server Started"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-Server-Started.png" width="399" height="261" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - Server Started"></noscript></figure></div><p>Next, load up a browser and point it to the IP address shown on the serial monitor. The NodeMCU should serve up a web page showing current status of LEDs and two buttons to control them. If take a look at the serial monitor at the same time, you can see status of NodeMCU’s GPIO pins.</p><div class="text-align-center"><div class="inline-screenshot1"><figure><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Web-Page.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Station Mode - Web Page"><noscript><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Web-Page.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Station Mode - Web Page"></noscript></figure></div><div class="inline-screenshot2"><figure><img loading="lazy" class="aligncenter size-full  lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-Webpage-Accessed.png" width="399" height="279" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - Webpage Accessed"><noscript><img loading="lazy" class="aligncenter size-full  lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-Webpage-Accessed.png" width="399" height="279" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - Webpage Accessed"></noscript></figure></div></div><p>Now, click the button to turn LED1 ON while keeping an eye on the URL. Once you click the button, the ESP8266 receives a request for <strong>/led1on</strong> URL. It then turns the LED1 ON and serves a web page with status of LED updated. It also prints the status of GPIO pin on the serial monitor.</p><div class="text-align-center"><div class="inline-screenshot1"><figure><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Web-Page-LED-Control.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Station Mode Web Page - LED Control"><noscript><img loading="lazy" class="aligncenter size-full  image-shadow lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Web-Page-LED-Control.png" width="300" height="454" alt="ESP8266 NodeMCU Web Server Station Mode Web Page - LED Control"></noscript></figure></div><div class="inline-screenshot2"><figure><img loading="lazy" class="aligncenter size-full  lazyload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-LED-Control.png" width="399" height="285" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - LED Control"><noscript><img loading="lazy" class="aligncenter size-full  lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/ESP8266-NodeMCU-Web-Server-Station-Mode-Serial-Monitor-Output-LED-Control.png" width="399" height="285" alt="ESP8266 NodeMCU Web Server Station Mode Serial Monitor Output - LED Control"></noscript></figure></div></div><p>You can test LED2 button and check that it works in a similar way.</p><h2 id="code-explanation">Code Explanation<a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#code-explanation" class="hlink"></a></h2><p>If you observe this code with the previous code, the only difference is that we are not setting the soft Access Point, Instead we are joining existing network using <code>WiFi.begin()</code> function.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="com">//connect to your local wi-fi network</span>
  WiFi.<span class="func">begin</span>(ssid, password);</code></pre></div><p>While the ESP8266 tries to connect to the network, we can check the connectivity status with <code>WiFi.status()</code> function</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code><span class="com">//check wi-fi is connected to wi-fi network</span>
  <span class="kwd">while</span> (WiFi.<span class="func">status</span>() != WL_CONNECTED) {
  <span class="func">delay</span>(<span class="lit">1000</span>);
  Serial.<span class="func">print</span>(<span class="str">"."</span>);
  }</code></pre></div><p>Just for your information, this function returns the following statuses:</p><ul class="one-liner-list"><li><strong>WL_CONNECTED</strong>: assigned when connected to a Wi-Fi network</li><li><strong>WL_NO_SHIELD</strong>: assigned when no Wi-Fi shield is present</li><li><strong>WL_IDLE_STATUS</strong>: a temporary status assigned when WiFi.begin() is called and remains active until the number of attempts expires (resulting in WL_CONNECT_FAILED) or a connection is established (resulting in WL_CONNECTED)</li><li><strong>WL_NO_SSID_AVAIL</strong>: assigned when no SSID are available</li><li><strong>WL_SCAN_COMPLETED</strong>: assigned when the scan networks is completed</li><li><strong>WL_CONNECT_FAILED</strong>: assigned when the connection fails for all the attempts</li><li><strong>WL_CONNECTION_LOST</strong>: assigned when the connection is lost</li><li><strong>WL_DISCONNECTED</strong>: assigned when disconnected from a network</li></ul><p>Once the ESP8266 is connected to the network, the sketch prints the IP address assigned to ESP8266 by displaying <code>WiFi.localIP()</code> value on serial monitor.</p><div class="example"><pre><span class="ctext" title="Click to Copy"><span class="copied"></span></span><code>Serial.<span class="func">println</span>(<span class="str">""</span>);
Serial.<span class="func">println</span>(<span class="str">"WiFi connected..!"</span>);
Serial.<span class="func">print</span>(<span class="str">"Got IP: "</span>);  Serial.<span class="func">println</span>(WiFi.<span class="func">localIP</span>());</code></pre></div><p>The only difference between AP &amp; STA mode is one creates the network and other joins the existing network. So, rest of the code for handling HTTP requests and serving web page in STA mode is same as that of AP mode explained above. This includes:</p><ul class="one-liner-list"><li>Declaring NodeMCU’s GPIO pins to which LEDs are connected</li><li>Defining multiple server.on() methods to handle incoming HTTP requests</li><li>Defining server.onNotFound() method to handle HTTP 404 error</li><li>Creating custom functions that are executed when specific URL is hit</li><li>Creating HTML page</li><li>Styling the web page</li><li>Creating buttons and displaying their status</li></ul></div></article><div class="social-sharing bottom-sharing"><div class="share-text-wrap"><div class="share-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="-0.4 -0.3 12 13"><path fill="#444" d="M1.6 8.2c.6 0 1-.2 1.4-.6l4.6 2.7v.5c0 1 .8 2 1.9 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.5 0-1 .2-1.3.5L3.5 6.6l.1-.4v-.5L8.1 3c.3.3.8.5 1.3.5a1.9 1.9 0 1 0-2-1.9c0 .2 0 .3.2.5L3 4.8c-.3-.3-.8-.5-1.3-.5a2 2 0 0 0-2 2c0 1 .8 1.9 2 1.9z"></path></svg></div><div class="share-text">Share</div></div> <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?caption=Create+A+Simple+ESP8266+NodeMCU+Web+Server+In+Arduino+IDE&amp;u=https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/" title="Share on facebook"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="7.81 7.81 26 26"><path d="M32 8.33H9.67c-.84 0-1.34.67-1.34 1.34v22.16c0 .84.67 1.34 1.34 1.34h12V23.5h-3.34v-3.67h3.34v-2.66c0-3.17 2-5 4.83-5 1.33 0 2.5.16 2.83.16v3.34h-2c-1.5 0-1.83.66-1.83 1.83v2.33h3.67l-.5 3.83H25.5v9.67h6.33c.84 0 1.34-.67 1.34-1.33V9.67c.16-.67-.5-1.34-1.17-1.34z"></path></svg> </a> <a class="twitter" href="https://twitter.com/intent/tweet?text=Create+A+Simple+ESP8266+NodeMCU+Web+Server+In+Arduino+IDE&amp;url=https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/&amp;via=Last+Minute+Engineers" title="Share on twitter"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><path d="M25.49 5.16c-1 .33-1.84.66-3 .83a6.5 6.5 0 0 0 2.33-2.83c-1 .66-2.17 1-3.33 1.33-1-1-2.33-1.67-3.67-1.67A5.2 5.2 0 0 0 12.65 8c0 .33 0 .83.17 1.17-4.33-.34-8-2.34-10.66-5.5-.34.83-.67 1.66-.67 2.66 0 1.84.83 3.34 2.33 4.34-.83 0-1.66-.34-2.33-.67 0 2.5 1.83 4.67 4.17 5.17-.5.16-.84.16-1.34.16-.33 0-.66 0-1-.16.67 2 2.5 3.5 4.84 3.66-1.84 1.34-4 2.17-6.34 2.17H.66c2.33 1.5 5 2.33 7.83 2.33 9.5 0 14.66-7.83 14.66-14.83v-.67c.84-.66 1.67-1.66 2.34-2.66"></path></svg> </a> <a class="pinterest" href="https://pinterest.com/pin/create/button/?url=https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/&amp;media=https://lastminuteengineers.com/wp-content/uploads/2019/12/Creating-Simple-ESP8266-Webserver-in-Arduino-IDe-using-Access-Poin-Station-mode.jpg&amp;description=Create+A+Simple+ESP8266+NodeMCU+Web+Server+In+Arduino+IDE" title="Share on pinterest"> <svg xmlns="http://www.w3.org/2000/svg" width="27.2" height="27.2"><path d="M13.6.11a13.5 13.5 0 0 0-4.93 26.07c-.12-1.08-.22-2.7.05-3.88l1.58-6.7s-.4-.82-.4-2.01c0-1.89 1.08-3.29 2.42-3.29 1.16 0 1.7.88 1.7 1.91 0 1.15-.72 2.9-1.1 4.5-.33 1.34.66 2.43 2 2.43 2.4 0 4.24-2.53 4.24-6.18 0-3.22-2.33-5.5-5.64-5.5a5.85 5.85 0 0 0-6.1 5.86 5.2 5.2 0 0 0 1.01 3.09c.1.14.13.24.1.38l-.36 1.52c-.06.25-.2.3-.45.18C6.04 17.71 5 15.25 5 13.27 4.99 9 8.09 5.1 13.9 5.1c4.68 0 8.3 3.34 8.3 7.78 0 4.64-2.93 8.4-6.99 8.4-1.35 0-2.65-.72-3.1-1.55l-.83 3.2a15.47 15.47 0 0 1-1.68 3.55 13.5 13.5 0 1 0 4-26.37z"></path></svg> </a></div></div><nav class="nav-rightbar-wrapper"><div class="nav-rightbar"><div class="story-highlights"><div class="tab"><label for="tab-title" class="story-highlights-title">Table Of Contents</label><input id="tab-title" type="checkbox" name="tabs"><label class="main-tab-icon tabicon" for="tab-title"></label><ul class="main-tab tab-content"><li class="tab"><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#introduction">Introduction</a><input id="tab-0" type="checkbox" name="tabs"><label class="tabicon" for="tab-0"></label><ul class="tab-content"><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#what-is-a-web-server-and-how-it-works">- What is a Web server and how it works?</a></li></ul></li><li class="tab"><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-operating-modes">ESP8266 Operating Modes</a><input id="tab-2" type="checkbox" name="tabs"><label class="tabicon" for="tab-2"></label><ul class="tab-content"><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#station-sta-mode">- Station STA Mode</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#soft-access-point-ap-mode">- Soft Access Point AP Mode</a></li></ul></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#wiring-leds-to-esp8266-nodemcu">Wiring LEDs to ESP8266 NodeMCU</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#concept-behind-controlling-things-from-esp8266-web-server">Concept Behind Controlling Things From ESP8266 Web Server</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-as-http-server-using-wifi-access-point-ap-mode">ESP8266 as HTTP Server using WiFi Access Point AP mode</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#accessing-the-web-server-in-ap-mode">Accessing the Web Server in AP mode</a></li><li class="tab"><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#detailed-code-explanation">Detailed Code Explanation</a><input id="tab-9" type="checkbox" name="tabs"><label class="tabicon" for="tab-9"></label><ul class="tab-content"><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#inside-setup-function">- Inside Setup Function</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#inside-loop-function">- Inside Loop Function</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#displaying-the-html-web-page">- Displaying the HTML Web Page</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#styling-the-web-page">- Styling the Web Page</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#setting-the-web-page-heading">- Setting the Web Page Heading</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#displaying-the-buttons-and-corresponding-state">- Displaying the Buttons and Corresponding State</a></li></ul></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#esp8266-as-http-server-using-wifi-station-sta-mode">ESP8266 as HTTP Server using WiFi Station STA mode</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#accessing-the-web-server-in-sta-mode">Accessing the Web Server in STA mode</a></li><li><a href="https://lastminuteengineers.com/creating-esp8266-web-server-arduino-ide/#code-explanation">Code Explanation</a></li></ul></div></div></div></nav></div></main></section> <style type="text/css" media="screen">.image-shadow{border:1px solid #eaeaea;box-shadow:0 2px 6px rgba(0,0,0,.1)}.text-align-center{text-align:center}.inline-screenshot1,.inline-screenshot2{display:inline-block;margin:0 10px 0 0;vertical-align:middle}.inline-screenshot2{margin:0 0 0 10px}@media (max-width:767px){.inline-screenshot1,.inline-screenshot2{display:block;margin:20px auto}}.one-liner-list strong{font-size:15px}img.web-server-img{margin: 0 auto;}</style> <script type="text/javascript">window.onload=function(){function e(){var e=jQuery(".post").offset().top,r=jQuery(".post").offset().top+jQuery(".post").height(),n=jQuery(window).height(),o=jQuery(window).scrollTop()
e>o?(jQuery(".nav-sidebar").removeClass("scrolling-end"),jQuery(".nav-sidebar").removeClass("scrolling")):o+n>r?(jQuery(".nav-sidebar").addClass("scrolling-end"),jQuery(".nav-sidebar").removeClass("scrolling")):(jQuery(".nav-sidebar").addClass("scrolling"),jQuery(".nav-sidebar").removeClass("scrolling-end"))}e(),window.onscroll=function(){e()},jQuery("#chapters a").each(function(){jQuery(this).attr("href").includes(window.location.pathname)&&(jQuery(this).addClass("current-chapter"), jQuery("#nav-sidebar").scrollTop(jQuery("#nav-sidebar").scrollTop() + jQuery(this).parent("div").prev().position().top - 100))}),jQuery('#nav-sidebar').addClass("shownav"),jQuery("h2").each(function(){jQuery(this).append('<a href="#'+jQuery(this).attr("id")+'" class="hlink"></a>')}),jQuery(".example pre").each(function(){jQuery(this).prepend('<span class="ctext" title="Click to Copy"><span class="copied"></span></span>')}),jQuery(".ctext").on("click",function(){var e=document.createElement("textarea")
document.body.appendChild(e),e.value=jQuery(this).next().text(),e.select(),document.execCommand("copy",!1),e.remove(),jQuery(this).children(".copied").show().fadeOut(800)})}</script></div><footer id="colophon" class="site-footer"><div class="container"><ul class="footer-menu"><li><a href="https://lastminuteengineers.com/disclaimer/">Disclaimer</a></li><li><a href="https://lastminuteengineers.com/privacy-policy/">Privacy Policy</a></li><li class="invisi"><a href="https://lastminuteengineers.com/contact/">Contact Us</a></li></ul><div class="copyright">Copyright © 2020 LastMinuteEngineers.com. All rights reserved.</div></div></footer> <noscript><style type="text/css" media="screen">.entry-content:before{content:"";background:-moz-linear-gradient(top,rgba(255,255,255,0) 0,#fff 100%);background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0,#fff 100%);background:linear-gradient(to bottom,rgba(255,255,255,0) 0,#fff 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 );display:block;position:absolute;height:300px;width:100%;bottom:0;z-index:2}article:after{content:"Please enable javascript to view this page properly";text-align:center;color:#ea4335;display:block;position:relative;bottom:-75px}article{margin-bottom:100px}.entry-content{max-height:1000px;overflow:hidden;position:relative}img.lazyload[data-src*="http"]{display:none}</style></noscript></div> <script src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/jquery.min.js.indir" async=""></script><script defer="" src="./In-depth_ Create A Simple ESP8266 NodeMCU Web Server In Arduino IDE_files/lazysizes.min.js.indir"></script> <script> /(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1); </script><table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 229px; display: none; top: 38px; left: 947px; position: absolute;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table></body></html>